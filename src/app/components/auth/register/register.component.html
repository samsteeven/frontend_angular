<div class="split-layout">

  <!-- Left Side: Branding / Visuals -->
  <div class="split-left !bg-teal-700">
    <div class="relative z-10 text-white max-w-lg">
      <div class="flex items-center gap-3 mb-8">
        <div class="flex items-center justify-center w-12 h-12 rounded-xl bg-white/20 backdrop-blur-sm">
          <fa-icon [icon]="faUserPlus" class="text-2xl"></fa-icon>
        </div>
        <h1 class="text-3xl font-bold tracking-tight">EasyPharma</h1>
      </div>

      <h2 class="text-4xl font-bold mb-6 leading-tight">
        Rejoignez notre<br>communauté.
      </h2>
      <p class="text-teal-100 text-lg leading-relaxed mb-8">
        Créez votre compte patient pour commander vos médicaments, suivre vos livraisons et accéder à votre historique
        médical en toute confidentialité.
      </p>

      <div class="space-y-4">
        <div class="flex items-center gap-3 text-teal-50">
          <div class="w-8 h-8 rounded-full bg-teal-600/50 flex items-center justify-center">
            <fa-icon [icon]="faCheck" class="text-sm"></fa-icon>
          </div>
          <span class="font-medium">Commandes sécurisées 24/7</span>
        </div>
        <div class="flex items-center gap-3 text-teal-50">
          <div class="w-8 h-8 rounded-full bg-teal-600/50 flex items-center justify-center">
            <fa-icon [icon]="faCheck" class="text-sm"></fa-icon>
          </div>
          <span class="font-medium">Livraison rapide à domicile</span>
        </div>
        <div class="flex items-center gap-3 text-teal-50">
          <div class="w-8 h-8 rounded-full bg-teal-600/50 flex items-center justify-center">
            <fa-icon [icon]="faCheck" class="text-sm"></fa-icon>
          </div>
          <span class="font-medium">Suivi en temps réel</span>
        </div>
      </div>
    </div>

    <!-- Decorative Circle -->
    <div
      class="absolute -bottom-24 -right-24 w-96 h-96 bg-teal-500 rounded-full mix-blend-multiply filter blur-3xl opacity-50">
    </div>
    <div
      class="absolute top-1/4 -right-20 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30">
    </div>
  </div>

  <!-- Right Side: Register Form -->
  <div class="split-right">
    <div class="w-full max-w-2xl mx-auto"> <!-- Wider container for register form -->

      <div class="mb-8">
        <h2 class="text-2xl font-bold text-slate-900">Créer un compte</h2>
        <p class="text-slate-500 mt-2">Remplissez le formulaire ci-dessous pour démarrer.</p>
      </div>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

        <!-- Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2">

          <!-- First Name -->
          <div class="form-group">
            <label class="form-label">Prénom</label>
            <div class="relative">
              <fa-icon [icon]="faUser" class="input-icon"></fa-icon>
              <input type="text" formControlName="firstName" class="form-input" placeholder="Jean">
            </div>
          </div>

          <!-- Last Name -->
          <div class="form-group">
            <label class="form-label">Nom</label>
            <div class="relative">
              <fa-icon [icon]="faUser" class="input-icon"></fa-icon>
              <input type="text" formControlName="lastName" class="form-input" placeholder="Dupont">
            </div>
          </div>

        </div>

        <!-- Email (Full Width) -->
        <div class="form-group">
          <label class="form-label">Email</label>
          <div class="relative">
            <fa-icon [icon]="faEnvelope" class="input-icon"></fa-icon>
            <input type="email" formControlName="email" class="form-input" placeholder="nom@exemple.com">
          </div>
        </div>

        <!-- Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2">

          <!-- Phone -->
          <div class="form-group">
            <label class="form-label">Téléphone</label>
            <div class="relative">
              <fa-icon [icon]="faPhone" class="input-icon"></fa-icon>
              <input type="tel" formControlName="phone" class="form-input" placeholder="+237 ...">
            </div>
          </div>

          <!-- City -->
          <div class="form-group">
            <label class="form-label">Ville</label>
            <div class="relative">
              <fa-icon [icon]="faMapMarkerAlt" class="input-icon"></fa-icon>
              <input type="text" formControlName="city" class="form-input" placeholder="Douala">
            </div>
          </div>

        </div>

        <!-- Grid: Passwords -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2">

          <!-- Password -->
          <div class="form-group">
            <label class="form-label">Mot de passe</label>
            <div class="relative">
              <fa-icon [icon]="faLock" class="input-icon"></fa-icon>
              <input [type]="showPassword ? 'text' : 'password'" formControlName="password" class="form-input"
                placeholder="••••••••">
              <button type="button" (click)="togglePassword()"
                class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-blue-600 transition-colors bg-transparent border-none cursor-pointer p-1">
                <fa-icon [icon]="showPassword ? faEyeSlash : faEye"></fa-icon>
              </button>
            </div>
          </div>

          <!-- Confirm -->
          <div class="form-group">
            <label class="form-label">Confirmation</label>
            <div class="relative">
              <fa-icon [icon]="faLock" class="input-icon"></fa-icon>
              <input [type]="showConfirmPassword ? 'text' : 'password'" formControlName="confirmPassword"
                class="form-input" placeholder="••••••••">
              <button type="button" (click)="toggleConfirmPassword()"
                class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-blue-600 transition-colors bg-transparent border-none cursor-pointer p-1">
                <fa-icon [icon]="showConfirmPassword ? faEyeSlash : faEye"></fa-icon>
              </button>
            </div>
          </div>

        </div>

        <!-- Terms -->
        <div class="flex items-center mb-6 ml-1">
          <input id="accept-terms" type="checkbox" formControlName="acceptTerms"
            class="h-5 w-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500 transition duration-150 ease-in-out cursor-pointer">
          <label for="accept-terms" class="ml-3 block text-sm text-slate-600 select-none cursor-pointer">
            J'accepte les <a href="#" class="text-blue-600 font-semibold hover:underline">Conditions Générales</a>
          </label>
        </div>

        <button type="submit" [disabled]="registerForm.invalid || isLoading"
          class="btn btn-primary w-full h-11 text-base shadow-lg shadow-blue-500/20">
          <span *ngIf="!isLoading">Créer mon compte</span>
          <div *ngIf="isLoading" class="flex items-center gap-2">
            <fa-icon [icon]="faCircleNotch" class="fa-spin"></fa-icon>
            <span>Création en cours...</span>
          </div>
        </button>

      </form>

      <div class="mt-8 text-center text-sm">
        <span class="text-slate-500">Déjà inscrit ?</span>
        <a routerLink="/login"
          class="font-bold text-blue-600 hover:text-blue-700 ml-1 transition-colors">Connectez-vous</a>
      </div>

    </div>
  </div>
</div>